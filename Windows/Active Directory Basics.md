# Active Directory Basics


<img width="1893" height="357" alt="image" src="https://github.com/user-attachments/assets/63be96df-4536-4efb-a681-41be228eaac5" />





<details>
  <summary>Windows Domains</summary>


# ููุฏูุฉ ุฅูู Windows Domain

## ๐ป ุงูููุถูุน ุจุจุณุงุทุฉ

ุชุฎูู ุฃู ูุฏูู ุดุฑูุฉ ุตุบูุฑุฉ ุจูุง 5 ุฃุฌูุฒุฉ ููุจููุชุฑ ู5 ููุธููู. ูู ูุฐู ุงูุญุงูุฉุ ููููู ุงูุชุญูู ูู ูู ุฌูุงุฒ ุนูู ุญุฏุฉ ุจุณูููุฉ:

- โ ุงูุฏุฎูู ุฅูู ูู ุฌูุงุฒ ุจููุณู.
- โ ุฅูุดุงุก ุญุณุงุจุงุช ูููุณุชุฎุฏููู ุนูู ูู ุฌูุงุฒ.
- โ ุฅุตูุงุญ ุฃู ุฌูุงุฒ ูุนุทู ุจุงูุฐูุงุจ ุฅููู ูุจุงุดุฑุฉ.

**ูููู... ูุงุฐุง ูู ููุช ุงูุดุฑูุฉ ูุฃุตุจุญ ูุฏูู:**

- ๐ **157** ุฌูุงุฒ ููุจููุชุฑ
- ๐ **320** ูุณุชุฎุฏููุง
- ๐ **4** ูุฑูุน ูู ุฃูุงูู ูุฎุชููุฉ

ูู ุณุชุชููู ูู ุงูุชุญูู ูู ูู ุฌูุงุฒ ููู ูุณุชุฎุฏู ุจููุณ ุงูุทุฑููุฉ ุงููุฏููุฉุ **ุจุงูุชุฃููุฏ ูุง!** ๐ ูุฃู ูุฐุง ุณูุณุชุบุฑู ููุชูุง ููุฌููุฏูุง ูุงุฆูุงู.

---

## ๐ข ุงูุญู: Windows Domain

ุงูุญู ูู **Windows Domain** (ูุทุงู ูููุฏูุฒ)ุ ููู ูุธุงู ูุฌุนู ุฅุฏุงุฑุฉ ุฌููุน ุงูุฃุฌูุฒุฉ ูุงููุณุชุฎุฏููู **ูุฑูุฒูุฉ ูุณููุฉ**.

### ๐ ูุง ูู Windows Domainุ

ูู ูุฌููุนุฉ ูู ุงููุณุชุฎุฏููู ูุงูุฃุฌูุฒุฉ ุงูุชู ุชุฏูุฑูุง ุงูุดุฑูุฉ ูู ููุงู ูุงุญุฏ ูุฑูุฒู. ูุนุชูุฏ ูุฐุง ุงููุธุงู ุนูู ูุง ูุณูู ุจู **Active Directory (AD)**ุ ููู ูุงุนุฏุฉ ุจูุงูุงุช ุชุณุฌู ูููุง ูู ุงููุณุชุฎุฏููู ูุงูุฃุฌูุฒุฉ.

ุฃูุง ุงูุณูุฑูุฑ ุงูุฐู ูููู ุจุชุดุบูู ุงูู Active Directory ูููุทูู ุนููู ุงุณู **Domain Controller (DC)**.

---

### ๐ ููุงุฆุฏ Windows Domain

1.  **โ ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช ุจุณูููุฉ**
    - ููููู ูู ููุงู ูุงุญุฏ (Active Directory) ุฅุถุงูุฉ ุฃู ุญุฐู ูุณุชุฎุฏู ุฃู ุชุบููุฑ ุจูุงูุงุชูุ ูุณุชูุทุจู ูุฐู ุงูุชุบููุฑุงุช ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ ูู ููุณ ุงูููุช.

2.  **โ ุฅุฏุงุฑุฉ ุงูุณูุงุณุงุช ุงูุฃูููุฉ**
    - ููููู ุนุจุฑ ุงูู Active Directory ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏูููุ ูุซู ููุน ุงููุตูู ุฅูู ููุญุฉ ุงูุชุญูู (Control Panel) ุฃู ุชุซุจูุช ุงูุจุฑุงูุฌ.

3.  **โ ูุฑููุฉ ูู ุงูุฏุฎูู ุนูู ุงูุฃุฌูุฒุฉ**
    - ูุณุชุทูุน ุงููุณุชุฎุฏู ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุฃู ุฌูุงุฒ ููุจููุชุฑ ูู ุงูุดุจูุฉ ุจููุณ ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจูุ ูุฃู ุฌููุน ุงูุฃุฌูุฒุฉ ุชุชุญูู ูู ุตุญุฉ ุจูุงูุงุชู ุนุจุฑ ุงูู Active Directory.

---

### ๐ ูุซุงู ูู ุงููุงูุน

ุฅุฐุง ููุช ูุฏ ุฏุฑุณุช ูู ูุฏุฑุณุฉ ุฃู ุฌุงูุนุฉ ูููุช ุชุณุชุฎุฏู ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ูู ุงููุนูู ุจููุณ ุญุณุงุจู ุงูุฎุงุตุ ูุฐูู ูุฃู ูุฐู ุงูุฃุฌูุฒุฉ ูููุง ุฌุฒุก ูู **Domain**. ูุงู ุงูู **Active Directory** ูู ุงูุฐู ูุชุญูู ูู ุจูุงูุงุชู ููุทุจู ุนููู ุงูุณูุงุณุงุช ุงููุญุฏุฏุฉ (ูุซู ููุนู ูู ูุชุญ ููุญุฉ ุงูุชุญูู ุฃู ุชูุฒูู ุจุฑุงูุฌ).

---

### ๐จโ๐ผ ุณููุงุฑูู ุดุฑูุฉ THM Inc.

- **ุฏูุฑู:** ุฃูุช ูุณุคูู ุงูุดุจูุฉ ุงูุฌุฏูุฏ ูู ุงูุดุฑูุฉ.
- **ุงูุจูุฆุฉ:** ุงูุดุฑูุฉ ูุฏููุง ุฏูููู ุจุงุณู `THM.local`.
- **ุตูุงุญูุงุชู:** ูุฏูู ุตูุงุญูุงุช ูุงููุฉ (Administrator) ุนูู ุงูู **Domain Controller** ูุชูููุฐ ููุงูู.
- **ูููุชู:** ุณุชููู ุจุงูุงุชุตุงู ุจุงูุณูุฑูุฑ (ุงูุฐู ูุญุชูู ุนูู Active Directory) ููุฑุงุฌุนุฉ ุงูุฅุนุฏุงุฏุงุช ูุฅุฌุฑุงุก ุงูุชุนุฏููุงุช ุงููุทููุจุฉ.

---

### ๐ ููููุฉ ุงูุงุชุตุงู ุจุงูุณูุฑูุฑุ

ุณูููู ูุฏูู ุณูุฑูุฑ ุฌุงูุฒ ูู ุงูุชูุฑูู (ูุธูุฑ ูู ุงููุชุตูุญ ุฃู ููููู ุงูุงุชุตุงู ุจู ุนุจุฑ RDP). ุงุณุชุฎุฏู ุงูุจูุงูุงุช ุงูุชุงููุฉ:

- **Username:** `THM\Administrator`
- **Password:** `Password321`

> **ููุงุญุธุฉ:** ุฅุถุงูุฉ `THM\` ูุจู ุงุณู ุงููุณุชุฎุฏู `Administrator` ุชุนูู ุฃูู ุชุฎุจุฑ ุงูุฌูุงุฒ ุจุฃู ูุฐุง ุงูุญุณุงุจ ุชุงุจุน ููุฏูููู ุงููุณูู `THM`.

  
</details>







<details>
  <summary>Active Directory</summary>


ูุนูู ุฅูู Active Directory (AD)ุ
-------------------------------

Active Directory Domain Services (**AD DS**) ูู **ุนูู ุงูุดุจูุฉ** ูู ุจูุฆุฉ ูููุฏูุฒ ุฏูููู.\
ุชูุฏุฑ ุชุนุชุจุฑู **ุฏููู / ูุชุงููุฌ ูุฑูุฒู** ููู ูู ุญุงุฌุฉ ููุฌูุฏุฉ ูู ุงูุดุจูุฉ:

-   ูุณุชุฎุฏููู

-   ุฃุฌูุฒุฉ

-   ุฌุฑูุจุงุช

-   ุณูุฑูุฑุงุช

-   ุจุฑูุชุฑุงุช

-   ุดูุฑุฒ

ูุฃูู ููุทุฉ:\
๐ **ุฃู ุญุงุฌุฉ ูู AD ุงุณููุง Object**

* * * * *

1๏ธโฃ Users (ุงููุณุชุฎุฏููู)
----------------------

ุงูู Users ููุง ุฃูุชุฑ Object ููู.

### User = Security Principal

ูุนูู:

-   ููุฏุฑ ูุนูู **Login**

-   ููุฏุฑ ูุชููุญ **Permissions**

-   ููุฏุฑ ููุตู ูุฑูุณูุฑุณ (ูููุงุช -- ุณูุฑูุฑ -- ุทุงุจุนุฉ)

### ููุนูู Users:

#### ๐ค People

-   ููุธููู ุงูุดุฑูุฉ

-   Dev / HR / IT

#### โ๏ธ Service Accounts

-   ุญุณุงุจุงุช ุจุชุดุบู Services ุฒู:

    -   IIS

    -   MSSQL

-   ุตูุงุญูุงุชูุง ูุญุฏูุฏุฉ ุฌุฏูุง (Least Privilege)

๐ **ุฃููููุง:**\
Service Account ูุชุณุฑุจ = ููุฒ ููููุงุฌู\
(ุฎุตูุตูุง Kerberoasting)

* * * * *

2๏ธโฃ Machines (ุงูุฃุฌูุฒุฉ)
----------------------

ุฃู ุฌูุงุฒ ูุฏุฎู ุงูุฏูููู โ AD ูุนูู ูู **Machine Account**

-   ูุนุชุจุฑ **Security Principal**

-   ูู Username + Password

-   ุจุงุณูุฑุฏ ุจูุชุบูุฑ ุชููุงุฆู (120 char ๐)

### ุงุณููุง ุดููู ุฅููุ

```
DC01$
WIN10-IT01$
```

ุนูุงูุฉ `$` = Machine Account

โ๏ธ **CTF / Pentest ูุนูููุฉ ุฎุทูุฑุฉ:**\
ูู ูุนุงู ุจุงุณูุฑุฏ Machine Account\
โ ุชูุฏุฑ ุชุนูู **Lateral Movement**

* * * * *

3๏ธโฃ Security Groups (ุงูุฌุฑูุจุงุช)
------------------------------

ุจุฏู ูุง ุชุฏู ุตูุงุญูุงุช User User\
ุชุฏููุง **Group** ูุฎูุงุต

### ูููุฒุงุช:

-   ุฃุณูู ุฅุฏุงุฑุฉ

-   ุฃูู ุฃุฎุทุงุก

-   scalable

### ุงูุฌุฑูุจุงุช ุชูุฏุฑ ุชุญุชูู:

-   Users

-   Machines

-   Groups ุฌูู Groups

* * * * *

ุฃูู ุฌุฑูุจุงุช ูู ุงูุฏูููู ๐ฅ
------------------------

| Group | ุฎุทุฑู |
| --- | --- |
| **Domain Admins** | ููู ุงูุฏูููู ๐ |
| Server Operators | ูุชุญูู ูู DC |
| Backup Operators | ููุฑุฃ ุฃู ููู |
| Account Operators | ููุดุฆ Accounts |
| Domain Users | ูู ุงููุณุชุฎุฏููู |
| Domain Computers | ูู ุงูุฃุฌูุฒุฉ |
| Domain Controllers | ูู ุงูู DCs |

๐ฏ **Pentest Rule:**\
ุฃู ุทุฑูู ููุตูู ูู **Domain Admin** = GAME OVER

* * * * *

4๏ธโฃ Active Directory Users and Computers
----------------------------------------

ุฏู ุงูู GUI ุงููู ุจุชุฏูุฑ ููู ูู ุญุงุฌุฉ.

ุชูุฏุฑ ูู ุฎูุงูู:

-   ุชูุดุฆ Users / Groups

-   Reset Password

-   ุชููู Computers

-   ุชุดูู Hierarchy ุงูุฏูููู

* * * * *

5๏ธโฃ Organizational Units (OUs)
------------------------------

ุงูู OU = **Container**

### ูุธููุชูุง ุงูุฃุณุงุณูุฉ:

-   ุชูุธูู ุงููุณุชุฎุฏููู

-   ุชุทุจูู **Group Policy (GPO)**

### ูุซุงู:

```
THM
 โโ IT
 โโ Sales
 โโ HR
 โโ R&D 
 
 ```

๐ค User ูุงุญุฏ โ OU ูุงุญุฏุฉ ููุท\
(ุนุดุงู ุงูุณูุงุณุงุช ูุชุชูุบุจุทุด)

* * * * *

Containers ุงูุงูุชุฑุงุถูุฉ
---------------------

Windows ุจูุนูููุง ููุญุฏู:

-   **Builtin** โ ุฌุฑูุจุงุช ูููุฏูุฒ

-   **Computers** โ ุฃู ุฌูุงุฒ ุฌุฏูุฏ

-   **Domain Controllers** โ ุงูู DCs

-   **Users** โ Default users

-   **Managed Service Accounts** โ Service users

* * * * *

ุงููุฑู ุงูููู ุฌุฏูุง ๐ฅ
-------------------

### Security Groups vs OUs

| ุญุงุฌุฉ | ุชุณุชุฎุฏู ูู |
| --- | --- |
| **OU** | ุณูุงุณุงุช (GPO) |
| **Group** | ุตูุงุญูุงุช (Permissions) |

### ูุซุงู:

-   Sales OU\
    โ ุณูุงุณุฉ ุชููุน USB

-   Finance Group\
    โ ุตูุงุญูุฉ ูุฑุงุกุฉ Folder ูุงูู

๐ค User:

-   ุนุถู ูู **OU ูุงุญุฏุฉ**

-   ุนุถู ูู **Groups ูุชูุฑ**

* * * * *

ูู ููุธูุฑ ุฃููู / CTF ๐ง
----------------------

ุฑูุฒ ุฏุงูููุง ุนูู:

-   Domain Admins

-   Service Accounts

-   Machine Accounts

-   Weak Group Memberships

-   Misconfigured OUs & GPOs






  
</details>



















































